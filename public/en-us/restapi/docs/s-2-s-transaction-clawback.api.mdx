---
id: s-2-s-transaction-clawback
title: "Transaction Clawback"
description: "Create a service-to-service (S2S) transaction clawback. This is for unwinding a token transaction. You may use the transaction_id or the gateway_uuid from the previous calls. A successful request will return a [Refund Object](/restapi/docs/schemas/refund-object) object. Requires scope of monetization on token."
sidebar_label: "Transaction Clawback"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: restapi/docs/mod-io-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Transaction Clawback"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/s2s/transactions/clawback"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a service-to-service (S2S) transaction clawback. This is for unwinding a token transaction. You may use the transaction_id or the gateway_uuid from the previous calls. A successful request will return a [Refund Object](/restapi/docs/schemas/refund-object) object. Requires scope of monetization on token.
     Further details about how the [Service to Service functionality](/monetization/studio-as-purchase-server) works and can be used to operate your own purchase server is recommended reading prior to implementing this endpoint.



:::tip

[Rules engine](/moderation/rules-engine) applies here.

:::

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/x-www-form-urlencoded":{"schema":{"title":"Clawback Request","required":["refund_reason","portal"],"properties":{"transaction_id":{"description":"The id of the transaction to complete. Required if gateway_uuid is null.","type":"integer","format":"int32"},"gateway_uuid":{"description":"The alpha dash on the transaction. Required if transaction_id is null.","type":"integer","format":"int32"},"portal":{"description":"The portal the transaction is tied to. Valid options are apple, google, xboxlive, psn and steam.","type":"string"},"refund_reason":{"description":"The reason for refunding the transaction.","type":"string"},"clawback_uuid":{"description":"An optional mapping alpha dash string that can be used to group this transaction against other transactions. When a deficit clawback transaction occurs, this clawback id will be set on subsequent clawbacks.","type":"string"}},"type":"object"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Request","content":{"application/json":{"schema":{"title":"Refund Object","properties":{"transaction_id":{"description":"The transaction id.","type":"integer","format":"int32","example":987654321},"gross_amount":{"description":"The gross amount of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":2500},"net_amount":{"description":"The net amount of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":2300},"platform_fee":{"description":"The platform fee of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":100},"gateway_fee":{"description":"The gateway fee of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":50},"tax":{"description":"The tax amount of the purchase in cents.","type":"integer","format":"int32","example":150},"tax_type":{"description":"The tax type.","type":"string","example":"GST"},"transaction_type":{"title":"Monetization Transaction Type Enum","description":"The state of the transaction that was processed.","type":"string","enum":["CANCELLED","CLEARED","CREDITED","FAILED","PAID","PENDING","REFUNDED"],"x-enumDescriptions":{"CANCELLED":"Payment cancelled by seller","CLEARED":"Payment taken and earned funds released","FAILED":"Payment failed to process","PAID":"Payment taken but funds not released","PENDING":"Pending transaction no payment taken","REFUNDED":"Payment refunded to buyer"}},"meta":{"description":"A metadata array of objects returned from the transaction.","type":"array","items":{"properties":{"mod_id":{"description":"Mod ID.","type":"integer","example":1234},"game_id":{"description":"Game ID.","type":"integer","example":4567},"buyer_id":{"description":"Buyer ID.","type":"integer","example":8910},"mod_name":{"description":"Name of the mod.","type":"string","example":"my mod"},"game_name":{"description":"Name of the game.","type":"string","example":"my game"},"buyer_name":{"description":"Name of the buyer.","type":"string","example":"buyers name"},"token_name":{"description":"Name of the token.","type":"string","example":"token name"}},"type":"object"},"example":[{"mod_id":1234,"game_id":4567,"buyer_id":8910,"mod_name":"Body Armour","game_name":"Half-Life","buyer_name":"Gordon Freeman","token_name":".22 Magazine"}]},"purchase_date":{"description":"The time of the purchase.","type":"integer","format":"int32","example":1626667557}},"type":"object"}}}}}}
>
  
</StatusCodes>


      