---
id: s-2-s-transaction-clawback
title: "Transaction Clawback"
description: "Create a service-to-service (S2S) transaction clawback. This is for unwinding a token transaction. You may use the transaction_id or the gateway_uuid from the previous calls. A successful request will return a [Refund Object](/restapi/docs/schemas/refund-object) object. Requires scope of monetization on token."
sidebar_label: "Transaction Clawback"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: restapi/docs/mod-io-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Transaction Clawback"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/s2s/transactions/clawback"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a service-to-service (S2S) transaction clawback. This is for unwinding a token transaction. You may use the transaction_id or the gateway_uuid from the previous calls. A successful request will return a [Refund Object](/restapi/docs/schemas/refund-object) object. Requires scope of monetization on token.
     Further details about how the [Service to Service functionality](/monetization/studio-as-purchase-server) works and can be used to operate your own purchase server is recommended reading prior to implementing this endpoint.



:::tip

[Rules engine](/moderation/rules-engine) applies here.

:::

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/x-www-form-urlencoded":{"schema":{"title":"Clawback Request","required":["refund_reason","portal"],"properties":{"transaction_id":{"description":"The id of the transaction to complete. Required if gateway_uuid is null.","type":"integer","format":"int32"},"gateway_uuid":{"description":"The alpha dash on the transaction. Required if transaction_id is null.","type":"integer","format":"int32"},"portal":{"description":"The portal the transaction is tied to. Valid options are apple, google, xboxlive, psn and steam.","type":"string"},"refund_reason":{"description":"The reason for refunding the transaction.","type":"string"},"clawback_uuid":{"description":"An optional mapping alpha dash string that can be used to group this transaction against other transactions. When a deficit clawback transaction occurs, this clawback id will be set on subsequent clawbacks.","type":"string"}},"type":"object"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Request","content":{"application/json":{"schema":{"title":"Refund Object","properties":{"transaction_id":{"description":"The transaction id.","type":"integer","format":"int32","example":987654321},"gross_amount":{"description":"The gross amount of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":2500},"net_amount":{"description":"The net amount of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":2300},"platform_fee":{"description":"The platform fee of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":100},"gateway_fee":{"description":"The gateway fee of the purchase in the lowest denomination of currency.","type":"integer","format":"int32","example":50},"tax":{"description":"The tax amount of the purchase in cents.","type":"integer","format":"int32","example":150},"tax_type":{"description":"The tax type.","type":"string","example":"GST"},"transaction_type":{"title":"Monetization Transaction Type Enum","description":"The state of the transaction that was processed.","type":"string","enum":["CANCELLED","CLEARED","CREDITED","FAILED","PAID","PENDING","REFUNDED"],"x-enumDescriptions":{"CANCELLED":"Payment cancelled by seller","CLEARED":"Payment taken and earned funds released","FAILED":"Payment failed to process","PAID":"Payment taken but funds not released","PENDING":"Pending transaction no payment taken","REFUNDED":"Payment refunded to buyer"}},"meta":{"description":"A metadata array of objects returned from the transaction.","type":"array","items":{"properties":{"mod_id":{"description":"Mod ID.","type":"integer","example":1234},"game_id":{"description":"Game ID.","type":"integer","example":4567},"buyer_id":{"description":"Buyer ID.","type":"integer","example":8910},"mod_name":{"description":"Name of the mod.","type":"string","example":"my mod"},"game_name":{"description":"Name of the game.","type":"string","example":"my game"},"buyer_name":{"description":"Name of the buyer.","type":"string","example":"buyers name"},"token_name":{"description":"Name of the token.","type":"string","example":"token name"}},"type":"object"},"example":[{"mod_id":1234,"game_id":4567,"buyer_id":8910,"mod_name":"Body Armour","game_name":"Half-Life","buyer_name":"Gordon Freeman","token_name":".22 Magazine"}]},"purchase_date":{"description":"The time of the purchase.","type":"integer","format":"int32","example":1626667557}},"type":"object"}}}}}}
>
  
</StatusCodes>


      